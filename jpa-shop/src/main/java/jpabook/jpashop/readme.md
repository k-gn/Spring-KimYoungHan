## 연관관계 매핑

- 용어
    - 방향 : 양방향, 단방향
    - 다중성 : 다대일, 일대다, 일대일, 다대다
    - 연관관계의 주인 : 양방향 연관관계는 주인이 필요 (mappedBy, Many 쪽이 주인이다.)
        - 두 객체 연관관계 중 하나를 정해서 테이블의 외래키를 관리해야 하는데 이것을 연관관계의 주인(Owner)이라고 한다.
    
* 가급적 안시 표준 조인을 사용해야 다른 데이터베이스로 바꿔도 무리가 없다.

- 객체를 테이블에 맞추어 데이터 중심으로 모델링하면 협력 관계를 만들 수 없다.
    - 테이블은 외래키로 조인을 사용해 연관된 테이블을 찾는다.
    - 객체는 참조를 사용해 연관된 객체를 찾는다.
    
---

- @ManyToOne
    - @JoinColumn(name = "FK_ID")
- @OneToMany (@JoinColumn을 꼭 사용해야 한다. 그렇지 않으면 조인 테이블 방식을 사용한다.(중간에 테이블을 하나 추가한다.))
    - @JoinColumn(name = "FK_ID")
    - @OneToMany 를 추가하고 양방향 매핑을 사용하면 연관 관계의 주인을 mappedBy 로 지정 (대상이 되는 변수명)
    - 일대다 양방향을 사용해야할 때는 다대일 양방향 사용하도록 하는게 더 좋다.
- 기본적으로 단방향 매핑으로 하고 나중에 역방향으로 객체 탐색이 꼭 필요하다고 느낄 때 추가한다. (N쪽이 연관관계의 주인)